interactions:
- request:
    body: 'null'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate, zstd
      Connection:
      - keep-alive
      Content-Length:
      - '4'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.5
    method: GET
    uri: https://api.scaleway.com/domain/v2beta1/dns-zones/example.com/records
  response:
    body:
      string: '{"total_count":7, "records":[{"id":"639c2716-f72f-471a-acdc-02b5d4001a01",
        "data":"ns1.dom.scw.cloud.", "name":"", "priority":0, "ttl":1800, "type":"NS",
        "comment":null}, {"id":"f5836d62-5e3a-40fb-a618-b3d868633c54", "data":"ns0.dom.scw.cloud.",
        "name":"", "priority":0, "ttl":1800, "type":"NS", "comment":null}, {"id":"300b8351-30ac-4807-9b6a-0284492c5c56",
        "data":"\"challengetoken\"", "name":"_acme-challenge.fqdn", "priority":0,
        "ttl":3600, "type":"TXT", "comment":null}, {"id":"0917f4b3-be77-46ed-90d6-1708067bd65d",
        "data":"\"challengetoken\"", "name":"_acme-challenge.full.example.com",
        "priority":0, "ttl":3600, "type":"TXT", "comment":null}, {"id":"dd6537d9-be1f-4766-911a-c91dd99bfbc2",
        "data":"\"challengetoken\"", "name":"_acme-challenge.test", "priority":0,
        "ttl":3600, "type":"TXT", "comment":null}, {"id":"73124e73-b66b-4753-9a07-cd0717862f73",
        "data":"docs.example.com.example.com.", "name":"docs", "priority":0,
        "ttl":3600, "type":"CNAME", "comment":null}, {"id":"65f60dd7-4468-4bc6-836f-020b5efb88f4",
        "data":"127.0.0.1", "name":"localhost", "priority":0, "ttl":3600, "type":"A",
        "comment":null}]}'
    headers:
      content-length:
      - '1133'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Thu, 13 Nov 2025 12:22:43 GMT
      server:
      - Scaleway API Gateway (fr-par-3;edge02)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 55c745c6-c345-4c1d-a88e-3bbeea5989ca
    status:
      code: 200
      message: OK
- request:
    body: 'null'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate, zstd
      Connection:
      - keep-alive
      Content-Length:
      - '4'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.5
    method: GET
    uri: https://api.scaleway.com/domain/v2beta1/dns-zones/example.com/records?page=1
  response:
    body:
      string: '{"total_count":7, "records":[{"id":"639c2716-f72f-471a-acdc-02b5d4001a01",
        "data":"ns1.dom.scw.cloud.", "name":"", "priority":0, "ttl":1800, "type":"NS",
        "comment":null}, {"id":"f5836d62-5e3a-40fb-a618-b3d868633c54", "data":"ns0.dom.scw.cloud.",
        "name":"", "priority":0, "ttl":1800, "type":"NS", "comment":null}, {"id":"300b8351-30ac-4807-9b6a-0284492c5c56",
        "data":"\"challengetoken\"", "name":"_acme-challenge.fqdn", "priority":0,
        "ttl":3600, "type":"TXT", "comment":null}, {"id":"0917f4b3-be77-46ed-90d6-1708067bd65d",
        "data":"\"challengetoken\"", "name":"_acme-challenge.full.example.com",
        "priority":0, "ttl":3600, "type":"TXT", "comment":null}, {"id":"dd6537d9-be1f-4766-911a-c91dd99bfbc2",
        "data":"\"challengetoken\"", "name":"_acme-challenge.test", "priority":0,
        "ttl":3600, "type":"TXT", "comment":null}, {"id":"73124e73-b66b-4753-9a07-cd0717862f73",
        "data":"docs.example.com.example.com.", "name":"docs", "priority":0,
        "ttl":3600, "type":"CNAME", "comment":null}, {"id":"65f60dd7-4468-4bc6-836f-020b5efb88f4",
        "data":"127.0.0.1", "name":"localhost", "priority":0, "ttl":3600, "type":"A",
        "comment":null}]}'
    headers:
      content-length:
      - '1133'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Thu, 13 Nov 2025 12:22:43 GMT
      server:
      - Scaleway API Gateway (fr-par-3;edge02)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 62a36fed-ea6d-4ac8-ba29-d06e511c1503
    status:
      code: 200
      message: OK
- request:
    body: '{"changes": [{"add": {"records": [{"name": "random.test", "data": "challengetoken",
      "type": "TXT", "ttl": 3600}]}}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate, zstd
      Connection:
      - keep-alive
      Content-Length:
      - '116'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.5
    method: PATCH
    uri: https://api.scaleway.com/domain/v2beta1/dns-zones/example.com/records
  response:
    body:
      string: '{"records":[{"id":"4ab87377-72f6-4db0-9251-7143e6f41715", "data":"\"challengetoken\"",
        "name":"random.test", "priority":0, "ttl":3600, "type":"TXT", "comment":null}]}'
    headers:
      content-length:
      - '166'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Thu, 13 Nov 2025 12:22:43 GMT
      server:
      - Scaleway API Gateway (fr-par-3;edge03)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 5cc59ba3-e601-41d9-bfd9-7b1140139639
    status:
      code: 200
      message: OK
- request:
    body: 'null'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate, zstd
      Connection:
      - keep-alive
      Content-Length:
      - '4'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.5
    method: GET
    uri: https://api.scaleway.com/domain/v2beta1/dns-zones/example.com/records?page=1
  response:
    body:
      string: '{"total_count":8, "records":[{"id":"639c2716-f72f-471a-acdc-02b5d4001a01",
        "data":"ns1.dom.scw.cloud.", "name":"", "priority":0, "ttl":1800, "type":"NS",
        "comment":null}, {"id":"f5836d62-5e3a-40fb-a618-b3d868633c54", "data":"ns0.dom.scw.cloud.",
        "name":"", "priority":0, "ttl":1800, "type":"NS", "comment":null}, {"id":"300b8351-30ac-4807-9b6a-0284492c5c56",
        "data":"\"challengetoken\"", "name":"_acme-challenge.fqdn", "priority":0,
        "ttl":3600, "type":"TXT", "comment":null}, {"id":"0917f4b3-be77-46ed-90d6-1708067bd65d",
        "data":"\"challengetoken\"", "name":"_acme-challenge.full.example.com",
        "priority":0, "ttl":3600, "type":"TXT", "comment":null}, {"id":"dd6537d9-be1f-4766-911a-c91dd99bfbc2",
        "data":"\"challengetoken\"", "name":"_acme-challenge.test", "priority":0,
        "ttl":3600, "type":"TXT", "comment":null}, {"id":"73124e73-b66b-4753-9a07-cd0717862f73",
        "data":"docs.example.com.example.com.", "name":"docs", "priority":0,
        "ttl":3600, "type":"CNAME", "comment":null}, {"id":"65f60dd7-4468-4bc6-836f-020b5efb88f4",
        "data":"127.0.0.1", "name":"localhost", "priority":0, "ttl":3600, "type":"A",
        "comment":null}, {"id":"4ab87377-72f6-4db0-9251-7143e6f41715", "data":"\"challengetoken\"",
        "name":"random.test", "priority":0, "ttl":3600, "type":"TXT", "comment":null}]}'
    headers:
      content-length:
      - '1287'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Thu, 13 Nov 2025 12:22:43 GMT
      server:
      - Scaleway API Gateway (fr-par-3;edge01)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - b59b5a9d-0eff-4578-b363-fe912d89fd04
    status:
      code: 200
      message: OK
version: 1
